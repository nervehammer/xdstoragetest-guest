!function(e){var n={};function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:r})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(t.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var o in e)t.d(r,o,function(n){return e[n]}.bind(null,o));return r},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="",t(t.s=2)}([function(e,n){e.exports=function(e){return null!=e&&"object"==typeof e&&"length"in e&&!("nodeType"in e)&&e.self!=e}},function(e,n){var t=/^\.\w+$/,r=/^#\w+$/,o=/^\w+$/;e.exports=function(e){return function(n){return"string"==typeof n?r.exec(n)?[e.getElementById(n.slice(1))]:o.exec(n)?e.getElementsByTagName(n):t.exec(n)?e.getElementsByClassName(n.slice(1)):e.querySelectorAll(n):n}}},function(e,n,t){const r=t(3),o=t(4),i=t(7),u=r("div",{class:"instructions"},r("h3","cross-domain-storage guest"));o.ready(function(){r(document.body,u);var e=i("https://nervehammer.github.io/xdstoragetest-host/");e.get("foo",function(e,n){console.log("Guest callback: ",e,n)}),e.set("foo","ggwp",function(e,n){console.log("Set callback:",e,n)})})},function(e,n,t){(n=>{const t="function",r="isNode",o=document,i=(e,n)=>typeof e===n,u=(e,n)=>{null!==n&&(Array.isArray(n)?n.map(n=>u(e,n)):(s[r](n)||(n=o.createTextNode(n)),e.appendChild(n)))};function s(e,n){let a,c,f=arguments,l=1;if(e=s.isElement(e)?e:o.createElement(e),i(n,"object")&&!s[r](n)&&!Array.isArray(n))for(a in l++,n)c=n[a],a=s.attrMap[a]||a,i(a,t)?a(e,c):i(c,t)?e[a]=c:e.setAttribute(a,c);for(;l<f.length;l++)u(e,f[l]);return e}s.attrMap={},s.isElement=(e=>e instanceof Element),s[r]=(e=>e instanceof Node),s.proxy=new Proxy(s,{get:(e,n)=>(!(n in s)&&(s[n]=s.bind(null,n)),s[n])}),((n,t)=>{e.exports=n})(s)})()},function(e,n,t){var r=t(5),o=t(0),i=t(1)(r.document),u=[];function s(e){this.push.apply(this,e)}function a(e){var n=i(e);return o(n)||(n=n?[n]:[]),new s(n)}s.prototype=u,u.constructor=s;var c="addClass removeClass append prepend".split(" ");for(var f in r)"function"==typeof r[f]&&(a[f]=r[f],u[f]=function(e){var n=this;return function(t,i,u,s,f,l){var d=r[e](this,t,i,u,s,f,l);return d!==r&&o(d)?a(d):c.indexOf(e)>=0?n:d}}(f));u.on=function(e,n,t){var o=this;return"function"==typeof n&&(t=n,n=this,o=null),r.on(e,n,t,o),this},u.off=function(e,n,t){var o=this;return"function"==typeof n&&(t=n,n=this,o=null),r.off(e,n,t,o),this},u.ready=function(e){return r.ready(e),this},u.addClass=function(e){return r.addClass(this,e),this},u.removeClass=function(e){return r.removeClass(this,e),this},e.exports=a},function(e,n,t){var r={document:"undefined"!=typeof document?document:null,setDocument:function(e){this.document=e}},o=[],i=t(0),u=t(1)(r.document),s=t(6)(r.document),a=" ";function c(e,n){for(var t=0;t<e.length;t++)if(n===e[t])return!0}function f(e,n){if(e=u(e),null==n)return e;if(i(e)){for(var t=[],o=0;o<e.length;o++)for(var s=r.find(e[o],n),a=0;a<s.length;a++)c(t,s[a])||t.push(s[a]);return t}return e?e.querySelectorAll(n):[]}function l(e,n){for(e=s(e),i(e)&&(e=e[0]);e&&e.ownerDocument&&!d(e,n);)e=e.parentNode;return e===r.document&&e!==n?null:e}function d(e,n){if(e=s(e),i(e)&&(e=e[0]),!e.ownerDocument||"string"!=typeof n)return e===n;if(e===n)return!0;var t=!e.parentNode;t&&document.createDocumentFragment().appendChild(e);var r=o.indexOf.call(f(e.parentNode,n),e)>=0;return t&&e.parentNode.removeChild(e),r}function p(e){var n=s(e.target);n?n.addEventListener(e.event,e.callback,!1):console.warn("No elements matched the selector, so no events were bound.")}r.find=f,r.findOne=function e(n,t){if(n=s(n),null==t)return n;if(i(n)){for(var r,o=0;o<n.length&&!(r=e(n[o],t));o++);return r}return n?n.querySelector(t):null},r.closest=l,r.is=d,r.addClass=function e(n,t){if(n=u(n),i(n)){for(var r=0;r<n.length;r++)e(n[r],t);return this}if(!t)return this;t=Array.isArray(t)?t:t.split(a);var o=n.classList?null:n.className.split(a);for(r=0;r<t.length;r++){var s=t[r];s&&s!==a&&(n.classList?n.classList.add(s):!o.indexOf(s)>=0&&o.push(s))}return n.classList||(n.className=o.join(a)),this},r.removeClass=function e(n,t){if(n=u(n),i(n)){for(var r=0;r<n.length;r++)e(n[r],t);return this}if(!t)return this;t=Array.isArray(t)?t:t.split(a);var o=n.classList?null:n.className.split(a);for(r=0;r<t.length;r++){var s=t[r];if(s&&s!==a)if(n.classList)n.classList.remove(s);else{var c=o.indexOf(s);c>=0&&o.splice(c,1)}}return n.classList||(n.className=o.join(a)),this},r.off=function e(n,t,o,u){if(i(t)){for(var c=0;c<t.length;c++)e(n,t[c],o,u);return this}if(u instanceof Array){for(c=0;c<u.length;c++)e(n,t,o,u[c]);return this}"string"==typeof n&&(n=n.split(a)),"function"!=typeof o&&(u=o,o=null),u=u?s(u):r.document;for(var l="string"==typeof t?f(t,u):[t],d=0;d<l.length;d++){var p=l[d];for(c=0;c<n.length;c++)p.removeEventListener(n[c],o)}return this},r.on=function e(n,t,o,c){if(!(c=u(c))&&(t=u(t),i(t))){for(var f=[],d=0;d<t.length;d++)f.push(e(n,t[d],o,c));return function(){for(;f.length;)f.pop()}}if(i(c)){for(f=[],d=0;d<c.length;d++)f.push(e(n,t,o,c[d]));return function(){for(;f.length;)f.pop()}}var v=[];"string"==typeof n&&(n=n.split(a));for(d=0;d<n.length;d++){var h={};c?(!0===c&&(c=r.document),h.target=c,h.callback=function(e){var n=l(e.target,t);n&&o(e,n)}):(h.target=t,h.callback=o),h.event=n[d],p(h),v.push(h)}return function(){for(;v.length;){var e=v.pop();s(e.target).removeEventListener(e.event,e.callback)}}},r.append=function e(n,t){n=s(n),t=s(t);if(i(n)&&(n=n[0]),i(t))for(var r=0;r<t.length;r++)e(n,t[r]);else n.appendChild(t)},r.prepend=function e(n,t){n=s(n),t=s(t);if(i(n)&&(n=n[0]),i(t))for(var r=t.length-1;r;r--)e(n,t[r]);else n.insertBefore(t,n.firstChild)},r.isVisible=function e(n){if(n=s(n)){if(i(n)){for(var t=-1;n[t++]&&e(n[t]););return n.length>=t}for(;n.parentNode&&"none"!==n.style.display;)n=n.parentNode;return n===r.document}},r.ready=function(e){!r.document||"complete"!==r.document.readyState&&"interactive"!==r.document.readyState?window.attachEvent?(document.attachEvent("onreadystatechange",e),window.attachEvent("onLoad",e)):document.addEventListener&&document.addEventListener("DOMContentLoaded",e,!1):e()},r.indexOfElement=function(e){if(e=u(e)){i(e)&&(e=e[0]);var n=-1,t=e.parentElement;if(!t)return n;for(;t.children[++n]!==e;);return n}},e.exports=r},function(e,n){var t=/^#\w+$/;e.exports=function(e){return function(n){return"string"==typeof n?t.exec(n)?e.getElementById(n.slice(1)):e.querySelector(n):n}}},function(e,n,t){var r=t(8),o="sessionAccessId-",i=t(9);e.exports=function(e,n){var t,u;n=n||document.body;var s,a={},c=[],f=!1,l=!0,d=!1;function p(){n.appendChild(t),u=t.contentWindow,l=!1,window.addEventListener("message",v),m()}function v(e){var n=e.data,t=i(n);if("sessionAccessId-connected"!==t)if(n.connectError){for(var r in a)a[r]&&a[r](n.error);a={}}else{var o=a[t];t&&o&&o(n.error,n.data)}else f=!0}function h(n,t,r,i){l&&p(),f||"connect"===n||c.push(arguments);var s=o+Date.now();a[s]=i,d&&u.postMessage({method:n,key:t,value:r,id:s},e)}function m(){if(f)for(clearTimeout(s);c.length;)h.apply(null,c.pop());else h("connect"),s=setTimeout(m,125)}return t=r("iframe",{src:e,width:0,height:0,style:"display: none;",onload:function(){d=!0}}),p(),{get:function(e,n){if(!n)throw new Error("callback required for get");h("get",e,null,n)},set:function(e,n,t){h("set",e,n,t)},remove:function(e,n){h("remove",e,null,n)},close:function(){clearTimeout(s),window.removeEventListener("message",v),t.parentNode.removeChild(t),f=!1,l=!0}}}},function(e,n,t){e.exports=function(){var e="function",n="object",t="textContent",r="setAttribute",o="attrMap",i="isNode",u="isElement",s=typeof document===n?document:{},a=function(e,n){return typeof e===n},c=typeof Node===e?function(e){return e instanceof Node}:function(e){return e&&a(e,n)&&"nodeType"in e&&a(e.ownerDocument,n)},f=function(e){return e instanceof Array},l=function(e,n){f(n)?n.map(function(n){l(e,n)}):(d[i](n)||(n=s.createTextNode(n)),e.appendChild(n))};function d(){var c,p=arguments,v=p[0],h=p[1],m=2,y=p.length,g=d[o];if(v=d[u](v)?v:s.createElement(v),1===y)return v;if((!a(h,n)||d[i](h)||f(h))&&(--m,h=null),y-m==1&&a(p[m],"string")&&void 0!==v[t])v[t]=p[m];else for(;m<y;++m)if(null!=(c=p[m]))if(f(c))for(var x=0;x<c.length;++x)l(v,c[x]);else l(v,c);for(var b in h)if(g[b]){var w=g[b];typeof w===e?w(v,h[b]):v[r](w,h[b])}else a(h[b],e)?v[b]=h[b]:v[r](b,h[b]);return v}return d[o]={},d[u]=function(e){return d[i](e)&&1===e.nodeType},d[i]=c,"undefined"!=typeof Proxy&&(d.proxy=new Proxy(d,{get:function(e,n){return!(n in d)&&(d[n]=d.bind(null,n)),d[n]}})),d}()},function(e,n){var t="sessionAccessId-";e.exports=function(e){var n;return e&&e.id&&~e.id.indexOf(t)&&(n=e.id),n}}]);